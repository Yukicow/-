



파이썬의 내부는 c언어로 구성돼 있다. 

한 마디로 파이썬은 c언어를 이용해 만든 언어 프로그램이다. 우리는 이를 CPython이라고 한다.

한 마디로 파이썬이 어떤 원리로 구성되어 있는 지를 알려면 CPython을 이해하면 된다.


먼저 파이썬의 모든 데이터는 객체이다. 그리고 모든 객체는 Pyobject라는 클래스를 포함한다.

Pyobject는 객체에 대한 가장 마더 클래스라고 볼 수 있다.

PyObject란, 객체의 라이프 사이클을 관리하기 위한 ob_refcnt와 

객체의 타입을 나타내기 위한 ob_type 두 변수를 갖는 구조체라고 생각하면 된다.


refcnt는 레퍼런스 카운트라는 말을 줄여 만든 변수명이다.

파이썬은 내부적으로 malloc()와 free()를 많이 사용하기 때문에 메모리 누수의 위험이 있습니다.

# malloc()과 free()는 c언어에서 malloc()은 동적 메모리 할당 free()는 할당된 동적 메모리 해제를 하는 함수이다.

이런 이슈가 있기 때문에 파이썬은 메모리를 관리하기 위한 전략으로 레퍼런스 카운트를 사용한다.

레퍼런스 카운트 전략이란 파이썬의 모든 객체에 카운트를 포함하고, 이 카운트는 객체가 참조될 때 증가하고

참조가 삭제될 때 감소시키는 방식으로 작동된다. 이때 카운터가 0이 되면 메모리가 할당이 삭제되는 형식이다.


이 Pyobject를 기반으로 한 자료형 별 확장판 클래스가 있다.


