





문자열 내장 함수

종류가 여러개 있지만 기본적인 것만 배우도록 하자

밑에서 인덱스는 무조건 1부터 시작이다. 원래는 인덱스가 아니고 번 째를 나타내기 때문


1. SUBSTR('문자열', 인덱스1, 인덱스2)

# 인덱스는 0이 아닌 1부터이다. 글자의 번째를 나타내기 때문

인덱스1번째 글짜부터 인덱스2의 수만큼 문자열을 자르는 함수

인덱스1번째 글짜포함 인덱스2의 수만큼 잘라서 그 자른 문자열을 출력한다

인덱스를 하나만 사용할 경우 첫번째 문자부터 해당 인덱스까지 자르고 남은 문자열이 출력된다.

SUBSTRB라는 것도 있는데 인덱스가 아니고 바이트가 기준이 된다. 


또 간단하게 LEFT('문자열', 인덱스)와 RIGHT('문자열', 인덱스)라는 것도 있다.

문자열 처음부터 또는 맨뒤부터 역방향으로 자르려면 LEFT와 RIGHT를 이용할 수 있다.

LEFT는 왼쪽 처음부터 인덱스까지 RIGHT는 오른쪽 끝부터 역방향으로 인덱스까지 문자열을 잘라서 출력한다.


이게 좋은 게 내가 만약 날짜 데이터를 년 월 일로 자르고 싶을 때

SUBSTR만 이용한다면 아래처럼 년 월 일에 대해서 하나하나 길이를 찾아서 인덱스를 어렵게 적어야 하는데

년 = SUBSTR(날짜데이터, 1, 4)
월 = SUBSTR(날짜데이터, 6, 2)
일 = SUBSTR(날짜데이터, 9, 2)

LEFT와 RGIHT를 이용하면 

년 = LEFT(날짜데이터, 4)
월 = SUBSTR(날짜데이터, 6, 2)
일 = RIGHT(날짜데이터, 2)

이렇게 더 간단하게 사용할 수 있다.



2. CONCAT('문자열','문자열')

문자열을 더해주는 함수이다.

하지만 ||을 쓰는 게 성능면에서 빠르기 때문에 ||를 많이 쓴다.



3. TRIM('문자열')

문자열의 양 끝 공백을 지워 주는 함수

LTRIM과 RTRIM이 있는데 L은 왼쪽 공백 R은 오른쪽 공백을 없애 준다.



4. LOWER('문자열'), UPPER('문자열')

대소문자로 바꿔 주는 함수

예를 들어 대소문자를 가리지 않고 특정 문자열을 검색할 때 사용됨

NEWLEC과 newlec으로 저장된 속성이 있다면 둘 다 같은 걸로 취급해서 검색하기 위해 WHERE LOWER,UPPER를 이용해 검색한다.



5. REPLACE('문자열1', '문자열2', '문자열3')

문자열1에서 문자열2에 해당하는 부분을 문자열3으로 바꿈



6. TRANSLATE('문자열1', '문자열2', '문자열3') 

문자열1에서 문자열2와 문자열3에 각각 대응되는 문자로 바꿈

이게 무슨 말이냐 문자열1 = 'WHERE WE ARE' , 문자열2='WE' 문자열3 = 'YOU' 라고 한다면

문자열2에서 W는 문자열3의 Y와 문자열2의 E는 문자열3의 O와 매핑되어 

WHERE WE ARE 에서 W는 Y로 E는 O로 바뀐다. U는 의미없는 값이 된다.



7. 문자열 패딩 함수

문자열의 크기를 지정하고 그 크기를 만족할 때까지 특정 문자로 채우도록 하는 함수

LPAD는 왼쪽에 문자가 채워지고 RPAD는 오른쪽에 채워진다.

LPAD('문자열', 크기, '문자')의 형태로 사용된다.

여기서 크기는 바이트 단위이기 때문에 문자의 인코딩 형식에 주의해서 사용해야 한다.

EX) LPAD('HELLO',10,'0') -> HELLO00000




8. INITCAP

첫 글자를 대문자로 만들어 주는 함수 

띄어쓰기로 구분된 모든 문자열들의 첫글자가 대문자가 되기 때문에 조심해야 한다.

중간에 다른나라 언어나 특수문자가 섞여있어도 첫글자로 취급한다.

EX) s한글ex -> S한글Ex




9. INSTR('문자열1', '문자열2')

문자열1에서 문자열2가 존재하는 위치를 정수값으로 반환

중복되는 값이 있을 수 있기 때문에 시작되는 값을 알리는 인자를 하나 더 넣을 수 있다.

INSTR('문자열1', '문자열2', 인덱스)

또 인자를 하나 더 써서 찾은 녀석이 여러개일 경우 몇 번째 녀석을 주면 되는 지 결정하는 것이다.

INSTR('문자열1', '문자열2', 인덱스1, 인덱스2)

그럼 문자열2에 해당하는 문자열을 여러개 찾을 경우 인덱스2값 번째에 해당하는 녀석을 반환한다.




10. LENGTH('문자열')

문자열의 길이를 반환하는 함수



11. ASKII('문자열'), CHR(숫자)

ASKII는 문자열을 아스키코드의 값으로 CHR는 숫자를 아스키코드 값으로 출력

