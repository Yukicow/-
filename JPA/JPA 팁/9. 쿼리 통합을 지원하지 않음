




JPA는 쿼리를 모아서 한 번에 보내는 일괄처리에 대한 부분에 초점이 있는 것이지 데이터 통합에 관한 부분은 관심사항이 아니다.

실제로 구현 레벨에서 힘을 좀 쓴다면 데이터 통합을 제공해서 쿼리의 수를 줄이고 최적화를 할 수도 있겠지만

JPA의 쓰기 지연 SQL 저장소의 역할이 그것을 초점으로 한 것이 아니기 때문에 JPA를 통해 여러 저장, 수정, 삭제 등을 수행하면

최종적으로 보내지는 쿼리는 마지막 상태에 대한 최적화된 쿼리가 아닌 모든 과정에 대한 쿼리를 보낸다.

예를 들어 새로운 Entity를 만들고 저장한 다음 바로 삭제할 경우 어차피 없는 데이터가 될 예정이니 아무 쿼리가 안 나가게 되는 것이 아니고

INSERT쿼리가 나간 후에 DELETE쿼리가 나가는 것이다. 저장하고 삭제하는 작업을 모아서 한 번에 보내는 것이지 

이것을 최적화 해서 최종적으로 통합된 쿼리가 나가는 것이 아니다.

